<html>
<head>
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.0/backbone-min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone-relational/0.10.0/backbone-relational.js"></script>

	<script>
		var mixpanel = {
			track : function(){},
			people : {
				set : function(){}
			},
			register : function(){},
			identify : function(){}
		}
	</script>
	<!-- for quiz -->
<style type="text/css">
  .no-lazy.quiz-answer-img.full {
    position: absolute;
    z-index: -10;
  }
  .pb-quiz-answers{
    height: 300px;
    z-index: 10;
  }
  .pb-quiz-question .pb-quiz-answers li.horizontal{
    padding-top: 307px
  }
  .pb-quiz-question .pb-quiz-answers li .quiz-answer-text.horizontal{
    position: relative;
    padding-top: 300px;
    /*top: 307px;*/
  }
</style>
</head>

<body>
<div>

    <style type="text/css"> 
        /*quiz.css*/
        article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}.main{width:100%}@media (min-width:720px){.main{float:left;padding:0 15px 0 0}}.main>table,.quiz-wrapper{width:100%}.quiz-wrapper{position:relative;z-index:1;margin:0 auto;background:#fff;overflow:hidden;padding-top:50px;right:0}@media (min-width:720px){.quiz-wrapper{padding-top:70px}}.quiz-wrapper.slideout{right:80vw}@media (min-width:980px){.main>table{float:left}.quiz-wrapper{width:980px;padding-top:0;clear:both}.quiz-wrapper.slideout{right:0}}.pb-quiz{font-size:14px;padding:10px}.pb-quiz img{margin:5px auto;max-width:100%}@media (min-width:720px){.pb-quiz img{max-width:50%;float:left;margin:0 10px 0 0;padding-top:0}}.pb-quiz h2{font:24px/28px liberation_sansbold,arial,sans-serif}.pb-quiz-loader-container .pb-quiz-loader{border:0}.pb-the-quiz-title{font-size: 27px;display:block;text-align:center;margin:0 -10px 20px;padding:10px;border-top:4px solid #000;border-bottom:1px solid #000;font:30px liberation_sansbold,arial,sans-serif;color:#3f3a3a}@media (min-width:720px){.pb-the-quiz-title{font-size: 27px;margin:0 0 20px}}.pb-quiz-title{font:24px/28px liberation_sansbold,arial,sans-serif;display:block;text-align:left;color:#000;margin:0 -10px;padding:0 10px}.pb-quiz-play-again-button,.pb-quiz-start-button,.pop-quiz-answer .quiz-answer-text{display:block;background:#860095;color:#fff;text-transform:uppercase;border:0;padding:15px 25px;margin:20px auto;font:16px/20px liberation_sansregular,arial,sans-serif bold}.pb-quiz-question .pb-quiz-answers{list-style:none;padding-left:0;margin:0 0 30px}.pb-quiz-question .pb-quiz-answers li{display:initial;padding:0}.pb-quiz-question .pb-quiz-answers li:before{display:none}.pb-quiz-question .pb-quiz-answers li .quiz-answer-text{padding:15px;border-bottom:1px solid #ccc;text-transform:capitalize;display:block}.pb-quiz-question .pb-quiz-answers li .quiz-answer-text:focus,.pb-quiz-question .pb-quiz-answers li .quiz-answer-text:hover{background:rgba(135,199,103,0.52);color:#fff}.pb-quiz-question .pb-quiz-answers li .quiz-answer-img{width:100%!important;display:inline-block;border:7px solid #d9d9d9;margin:10px auto 0;padding:0}.pb-quiz-question .pb-quiz-answers li .quiz-answer-img:focus,.pb-quiz-question .pb-quiz-answers li .quiz-answer-img:hover{border:7px solid #87c767}@media (min-width:720px){.pb-quiz-question .pb-quiz-answers li .quiz-answer-img{width:calc(50% - 15px)!important;margin:6px}.pb-quiz-question .quiz-answer-img+ul.pb-quiz-answers{width:48%;float:left}}@media (min-width:980px){.pb-quiz-question .quiz-answer-img+ul.pb-quiz-answers{width:50%}}.pb-quiz-questions-pagination{display:none}.pb-quiz-result .quiz-result-img{width:100%!important}@media (min-width:720px){.pb-quiz-result .quiz-result-img{width:50%!important;float:left;margin:0}.pb-quiz-result p{width:calc(50% - 10px);float:right;margin-top:0}}.pb-quiz-result .results-share{width:100%;padding:15px;border-top:1px solid #bbb;text-align:center;font-size:18px;font-family:liberation_sansbold,arial,sans-serif;display:inline-block}.share-buttons-container{width:100%;display:block;text-align:center}.share-buttons-container>a{line-height:50px;text-transform:uppercase;color:#fff;text-align:left;border-radius:25px;display:inline-block;width:225px;height:50px;margin:10px}.share-buttons-container>a.share-button-facebook{background:#3b589e}.share-buttons-container>a.share-button-twitter{background:#00acee}.share-buttons-container>a:hover{color:#fff}.share-buttons-container>a .share-icon{width:40px;height:40px;display:inline-block;border-radius:42px;float:left;margin:5px}.share-buttons-container>a .share-facebook-icon{margin-right:10px;width:40px;height:40px;background:url(../images/sprite-s0ff1300efb.png) -193px -148px no-repeat}.share-buttons-container>a .share-twitter-icon{margin-right:15px;width:40px;height:40px;background:url(../images/sprite-s0ff1300efb.png) -153px -148px no-repeat}@media (min-width:720px){.pop-quiz .pb-quiz-question img{margin:0 auto 15px;width:50%!important;float:left;padding:0}.pop-quiz .pb-quiz-question .pb-quiz-answers{width:calc(50% - 10px);float:right}}.pop-quiz .pop-quiz-answer h2{font-size:16px;line-height:20px;font-family:liberation_sansregular,arial,sans-serif;width:auto;float:right;margin-top:0}@media (min-width:720px){.pop-quiz .pop-quiz-answer h2{width:calc(50% - 10px)}}.pop-quiz .pop-quiz-answer .pb-quiz-answers{width:100%}@media (min-width:720px){.pop-quiz .pop-quiz-answer .pb-quiz-answers{width:calc(50% - 10px);float:right}}.pop-quiz .pop-quiz-answer .pb-quiz-answers .quiz-answer-text{width:130px;text-transform:uppercase;text-align:center;font-family:liberation_sansregular,arial,sans-serif;border:0}.pop-quiz .pop-quiz-answer .pb-quiz-answers .quiz-answer-text:focus,.pop-quiz .pop-quiz-answer .pb-quiz-answers .quiz-answer-text:hover{background:#860095}.pop-quiz li:first-of-type .quiz-answer-text{border-top:1px solid #ccc}.pop-quiz .pb-quiz-questions-pagination{display:none}
    </style>
    <style>
    	.is-hidden {
    	  display: none;
    	}
        .pb-quiz-question .pb-quiz-answers li .quiz-answer-text{
            cursor: default;
        }
    	.pb-quiz-question .pb-quiz-answers li .quiz-answer-text.horizontal {
    		display : inline;
		    cursor: default;
    	}
    	.pb-quiz-question .pb-quiz-answers li.horizontal{
    		display : table-cell;
    	}
    	.pb-quiz-question .quiz-answer-img + ul.pb-quiz-answers,
    	.no-lazy.quiz-answer-img.full {
    		max-width: 100%;
    		width: 100%;
    	}
    	.pb-quiz-question .quiz-answer-img + ul.pb-quiz-answers{
    		display: table;
    	}
    	#email-warning{
    		color: Red;
    	}
        #emailForm {
            text-align: center;
        }
        /*needed for squarespace*/
        .pb-quiz-result a {
            font-size: larger;
        }

        {% comment %}make the quiz useful on small screens{% endcomment %}
        @media (max-width: 768px) {
            .pb-quiz-question .pb-quiz-answers li .quiz-answer-text{
                padding: 3px;
            }
        }
    </style>
    <script type="text/javascript">
        function validateEmail(email) {
            var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
        }
        function postContactToGoogle(callback){
            var email = $('#email').val();
            var treatment = $('#treatment').val();
            if ((email !== "") && (validateEmail(email))) {
                $.ajax({
                    url: "https://docs.google.com/forms/d/15m6rDXTfWd_1xMupQK8iaP_VLnIEOdLnNVXgYud_Jvc/formResponse",
                    data: {"entry.2102428831" : email,"entry.1340206487":treatment},
                    type: "POST",
                    dataType: "xml",
                    statusCode: {
                        0: function (){
                            $('#email').val("");
                            $('#treatment').val("");
                            //Success message
                            console.log("success");
                            callback(null,email);
                        },
                        200: function (){
                            $('#email').val("");
                            $('#treatment').val("");
                            //Success Message
                            console.log("success");
                            callback(null,email);
                        }
                    }
                });
            }
            else {
                //Error message
	            console.log("failure")
                callback('bad email',null);
            }
        }
    </script>

    <script type="text/javascript">
        window.onload = function(){
            setTimeout(function(){
                $(".pb-quiz-start-button.js-pb-quiz-start-button")[0].click();
            },500);

            mixpanel.track("Page Load");
            mixpanel.people.set({
                "$created": "2011-03-16 16:53:54",
                "$last_login": new Date(),         // properties can be dates...
            });
        }
    </script>
    {% comment %}<div class="quiz-wrapper">{% endcomment %}
        <div class="main">
            <div class="pb-quiz js-pb-quiz" data-type="1">
                <div class="pb-the-quiz-title"><h2 style="font-size: 21px;">Take the Quiz! (Find your customized solution)</h2></div>
                <div class="pb-quiz-loader-container is-hidden js-pb-quiz-loader-container"> <span class="pb-quiz-loader">Loading...</span> </div>
                <div class="pb-quiz-intro js-pb-quiz-intro">
                    <p class="pb-quiz-description"></p>
                    <button class="pb-quiz-start-button js-pb-quiz-start-button">Start Quiz!</button>
                </div>
                <div class="pb-quiz-questions-container is-hidden is-invisible js-pb-quiz-questions-container">
                    <div class="pb-quiz-questions js-pb-quiz-questions"></div>
                    <div class="pb-quiz-questions-pagination js-pb-quiz-questions-pagination"></div>
                </div>
                <div id="email-capture" class="is-hidden is-invisible">
					<form id="emailForm" target="_self" onsubmit="" action="javascript:void(0);">
					     <fieldset>
					         <h1><label for="email">Enter your email to see result</label></h1>
					         <input id="email" type="text" name="email">
						     <div style="width: 100%; display: block; float: right;margin-top:10px;">
						         <button id="send" type="submit">
						             Show me!
						         </button>
						     </div>
                             <input id="treatment" type="text" hidden name="treatment">
						     <span id="email-warning" class="is-hidden">Please enter a valid email</span>
					     </fieldset>
					     <div style="text-align: right; padding-bottom: 15px;">* Required</div>
					     <div style="width: 100%; display: block; float: right; padding-top: 15px;">
					         <div class="requestSubmited" style="display:none; text-align: center;">Your request has been sent!</div>
					     </div>
					 </form>
                </div>
                <div class="pb-quiz-result is-hidden is-invisible js-pb-quiz-result"></div>
            </div>
            <script type="text/template" id="js-pb-quiz-question-template">
                <h3><%= index + '. ' + title %></h3>
                <div style ="width: 100%;">
                <% if(full_image_url) { %><img class="no-lazy quiz-answer-img full" src="<%- full_image_url %>">
                <% } %>
                <ul class="pb-quiz-answers">
                    <% _.each(answers, function (answer) {  %>
                        <li class="pb-quiz-answer js-pb-quiz-answer <% if(shouldBeHorizontal) { %> horizontal <% } %>" data-result-id="<%- (answer.results[0]) ? answer.results[0].result_id : 0 %>" data-weight="<%- answer.weight %>">
                            <% if (answer.image_large_url) { %><img class="no-lazy quiz-answer-img" src="<%- answer.image_large_url %>">
                            <% } else if(answer.image_url) { %><img class="no-lazy quiz-answer-img" src="<%- answer.image_url %>">
                            <%= answer.title %>
                            <% } else { %><span class="quiz-answer-text <% if(shouldBeHorizontal) { %> horizontal <% } %>"><%= answer.title %></span>
                            <% } %>
                        </li>
                        <% }) %>
                </ul>
                </div>
            </script>
            <script type="text/template" id="js-pb-quiz-result-template">
                <!-- <h2><%= title %></h2> -->
                <% if(full_image_url) { %><img class="no-lazy quiz-result-img" src="<%- full_image_url %>">
                <% } %>
                <p>
                    <%= description %>
                </p>
                <!-- <div class="results-share">SHARE YOUR RESULTS!</div>
                <div class="share-buttons-container">
                    <a href="http://www.facebook.com/share.php?u=<%- document.location.href %>" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);" data-title="I got <%- title %> on <%- document.location.href %>" target="_blank" class="pb-quiz-facebook-button js-pb-quiz-facebook-button share-button-facebook">
                        <div class="share-icon share-facebook-icon"></div> Share on facebook</a>
                    <a href="http://twitter.com/home?status=I got <%- encodeURIComponent(title) %> on <%- encodeURIComponent(document.location.href) %>" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);" data-title="<%- title %> on <%- document.location.href %>" target="_blank" class="pb-quiz-twitter-button js-pb-quiz-twitter-button share-button-twitter">
                        <div class="share-icon share-twitter-icon"></div> Share on twitter</a>
                </div> -->
                <!-- <button class="pb-quiz-play-again-button js-pb-quiz-play-again-button">Take again?</button> -->
            </script>
            <script type="text/template" id="js-pb-quiz-questions-pagination-template">
                <% _.each(questions, function (question) { %>
                <% var isSelectedClass = '';
                if (question.index === 1) {
                    isSelectedClass = ' is-selected';
                } %>
                <li class="pb-quiz-questions-pagination-item js-pb-quiz-questions-pagination-item<%- isSelectedClass %>">
                    <%- question.index %>
                </li>
                <% }) %>
            </script>
            <!-- <script type="text/javascript">
                //     Underscore.js 1.6.0
                //     http://underscorejs.org
                //     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
                //     Underscore may be freely distributed under the MIT license.
                (function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","   ":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);
            </script> -->
            <!-- <script type="text/javascript">
            // backbone
                (function(t,e){if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(i,r,s){t.Backbone=e(t,s,i,r)})}else if(typeof exports!=="undefined"){var i=require("underscore");e(t,exports,i)}else{t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}})(this,function(t,e,i,r){var s=t.Backbone;var n=[];var a=n.push;var o=n.slice;var h=n.splice;e.VERSION="1.1.2";e.$=r;e.noConflict=function(){t.Backbone=s;return this};e.emulateHTTP=false;e.emulateJSON=false;var u=e.Events={on:function(t,e,i){if(!c(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);r.push({callback:e,context:i,ctx:i||this});return this},once:function(t,e,r){if(!c(this,"once",t,[e,r])||!e)return this;var s=this;var n=i.once(function(){s.off(t,n);e.apply(this,arguments)});n._callback=e;return this.on(t,n,r)},off:function(t,e,r){var s,n,a,o,h,u,l,f;if(!this._events||!c(this,"off",t,[e,r]))return this;if(!t&&!e&&!r){this._events=void 0;return this}o=t?[t]:i.keys(this._events);for(h=0,u=o.length;h<u;h++){t=o[h];if(a=this._events[t]){this._events[t]=s=[];if(e||r){for(l=0,f=a.length;l<f;l++){n=a[l];if(e&&e!==n.callback&&e!==n.callback._callback||r&&r!==n.context){s.push(n)}}}if(!s.length)delete this._events[t]}}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t];var r=this._events.all;if(i)f(i,e);if(r)f(r,arguments);return this},stopListening:function(t,e,r){var s=this._listeningTo;if(!s)return this;var n=!e&&!r;if(!r&&typeof e==="object")r=this;if(t)(s={})[t._listenId]=t;for(var a in s){t=s[a];t.off(e,r,this);if(n||i.isEmpty(t._events))delete this._listeningTo[a]}return this}};var l=/\s+/;var c=function(t,e,i,r){if(!i)return true;if(typeof i==="object"){for(var s in i){t[e].apply(t,[s,i[s]].concat(r))}return false}if(l.test(i)){var n=i.split(l);for(var a=0,o=n.length;a<o;a++){t[e].apply(t,[n[a]].concat(r))}return false}return true};var f=function(t,e){var i,r=-1,s=t.length,n=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++r<s)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<s)(i=t[r]).callback.call(i.ctx,n);return;case 2:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a);return;case 3:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a,o);return;default:while(++r<s)(i=t[r]).callback.apply(i.ctx,e);return}};var d={listenTo:"on",listenToOnce:"once"};i.each(d,function(t,e){u[e]=function(e,r,s){var n=this._listeningTo||(this._listeningTo={});var a=e._listenId||(e._listenId=i.uniqueId("l"));n[a]=e;if(!s&&typeof r==="object")s=this;e[t](r,s,this);return this}});u.bind=u.on;u.unbind=u.off;i.extend(e,u);var p=e.Model=function(t,e){var r=t||{};e||(e={});this.cid=i.uniqueId("c");this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)r=this.parse(r,e)||{};r=i.defaults({},r,i.result(this,"defaults"));this.set(r,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(p.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},set:function(t,e,r){var s,n,a,o,h,u,l,c;if(t==null)return this;if(typeof t==="object"){n=t;r=e}else{(n={})[t]=e}r||(r={});if(!this._validate(n,r))return false;a=r.unset;h=r.silent;o=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=i.clone(this.attributes);this.changed={}}c=this.attributes,l=this._previousAttributes;if(this.idAttribute in n)this.id=n[this.idAttribute];for(s in n){e=n[s];if(!i.isEqual(c[s],e))o.push(s);if(!i.isEqual(l[s],e)){this.changed[s]=e}else{delete this.changed[s]}a?delete c[s]:c[s]=e}if(!h){if(o.length)this._pending=r;for(var f=0,d=o.length;f<d;f++){this.trigger("change:"+o[f],this,c[o[f]],r)}}if(u)return this;if(!h){while(this._pending){r=this._pending;this._pending=false;this.trigger("change",this,r)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e,r=false;var s=this._changing?this._previousAttributes:this.attributes;for(var n in t){if(i.isEqual(s[n],e=t[n]))continue;(r||(r={}))[n]=e}return r},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{};if(t.parse===void 0)t.parse=true;var e=this;var r=t.success;t.success=function(i){if(!e.set(e.parse(i,t),t))return false;if(r)r(e,i,t);e.trigger("sync",e,i,t)};q(this,t);return this.sync("read",this,t)},save:function(t,e,r){var s,n,a,o=this.attributes;if(t==null||typeof t==="object"){s=t;r=e}else{(s={})[t]=e}r=i.extend({validate:true},r);if(s&&!r.wait){if(!this.set(s,r))return false}else{if(!this._validate(s,r))return false}if(s&&r.wait){this.attributes=i.extend({},o,s)}if(r.parse===void 0)r.parse=true;var h=this;var u=r.success;r.success=function(t){h.attributes=o;var e=h.parse(t,r);if(r.wait)e=i.extend(s||{},e);if(i.isObject(e)&&!h.set(e,r)){return false}if(u)u(h,t,r);h.trigger("sync",h,t,r)};q(this,r);n=this.isNew()?"create":r.patch?"patch":"update";if(n==="patch")r.attrs=s;a=this.sync(n,this,r);if(s&&r.wait)this.attributes=o;return a},destroy:function(t){t=t?i.clone(t):{};var e=this;var r=t.success;var s=function(){e.trigger("destroy",e,e.collection,t)};t.success=function(i){if(t.wait||e.isNew())s();if(r)r(e,i,t);if(!e.isNew())e.trigger("sync",e,i,t)};if(this.isNew()){t.success();return false}q(this,t);var n=this.sync("delete",this,t);if(!t.wait)s();return n},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||M();if(this.isNew())return t;return t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;if(!r)return true;this.trigger("invalid",this,r,i.extend(e,{validationError:r}));return false}});var v=["keys","values","pairs","invert","pick","omit"];i.each(v,function(t){p.prototype[t]=function(){var e=o.call(arguments);e.unshift(this.attributes);return i[t].apply(i,e)}});var g=e.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var m={add:true,remove:true,merge:true};var y={add:true,remove:false};i.extend(g.prototype,u,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,y))},remove:function(t,e){var r=!i.isArray(t);t=r?[t]:i.clone(t);e||(e={});var s,n,a,o;for(s=0,n=t.length;s<n;s++){o=t[s]=this.get(t[s]);if(!o)continue;delete this._byId[o.id];delete this._byId[o.cid];a=this.indexOf(o);this.models.splice(a,1);this.length--;if(!e.silent){e.index=a;o.trigger("remove",o,this,e)}this._removeReference(o,e)}return r?t[0]:t},set:function(t,e){e=i.defaults({},e,m);if(e.parse)t=this.parse(t,e);var r=!i.isArray(t);t=r?t?[t]:[]:i.clone(t);var s,n,a,o,h,u,l;var c=e.at;var f=this.model;var d=this.comparator&&c==null&&e.sort!==false;var v=i.isString(this.comparator)?this.comparator:null;var g=[],y=[],_={};var b=e.add,w=e.merge,x=e.remove;var E=!d&&b&&x?[]:false;for(s=0,n=t.length;s<n;s++){h=t[s]||{};if(h instanceof p){a=o=h}else{a=h[f.prototype.idAttribute||"id"]}if(u=this.get(a)){if(x)_[u.cid]=true;if(w){h=h===o?o.attributes:h;if(e.parse)h=u.parse(h,e);u.set(h,e);if(d&&!l&&u.hasChanged(v))l=true}t[s]=u}else if(b){o=t[s]=this._prepareModel(h,e);if(!o)continue;g.push(o);this._addReference(o,e)}o=u||o;if(E&&(o.isNew()||!_[o.id]))E.push(o);_[o.id]=true}if(x){for(s=0,n=this.length;s<n;++s){if(!_[(o=this.models[s]).cid])y.push(o)}if(y.length)this.remove(y,e)}if(g.length||E&&E.length){if(d)l=true;this.length+=g.length;if(c!=null){for(s=0,n=g.length;s<n;s++){this.models.splice(c+s,0,g[s])}}else{if(E)this.models.length=0;var k=E||g;for(s=0,n=k.length;s<n;s++){this.models.push(k[s])}}}if(l)this.sort({silent:true});if(!e.silent){for(s=0,n=g.length;s<n;s++){(o=g[s]).trigger("add",o,this,e)}if(l||E&&E.length)this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,s=this.models.length;r<s;r++){this._removeReference(this.models[r],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);this.remove(e,t);return e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);this.remove(e,t);return e},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){if(i.isEmpty(t))return e?void 0:[];return this[e?"find":"filter"](function(e){for(var i in t){if(t[i]!==e.get(i))return false}return true})},findWhere:function(t){return this.where(t,true)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");t||(t={});if(i.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(i.bind(this.comparator,this))}if(!t.silent)this.trigger("sort",this,t);return this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{};if(t.parse===void 0)t.parse=true;var e=t.success;var r=this;t.success=function(i){var s=t.reset?"reset":"set";r[s](i,t);if(e)e(r,i,t);r.trigger("sync",r,i,t)};q(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};if(!(t=this._prepareModel(t,e)))return false;if(!e.wait)this.add(t,e);var r=this;var s=e.success;e.success=function(t,i){if(e.wait)r.add(t,e);if(s)s(t,i,e)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?i.clone(e):{};e.collection=this;var r=new this.model(t,e);if(!r.validationError)return r;this.trigger("invalid",this,r.validationError,e);return false},_addReference:function(t,e){this._byId[t.cid]=t;if(t.id!=null)this._byId[t.id]=t;if(!t.collection)t.collection=this;t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,r);if(e&&t==="change:"+e.idAttribute){delete this._byId[e.previous(e.idAttribute)];if(e.id!=null)this._byId[e.id]=e}this.trigger.apply(this,arguments)}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(_,function(t){g.prototype[t]=function(){var e=o.call(arguments);e.unshift(this.models);return i[t].apply(i,e)}});var b=["groupBy","countBy","sortBy","indexBy"];i.each(b,function(t){g.prototype[t]=function(e,r){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,r)}});var w=e.View=function(t){this.cid=i.uniqueId("view");t||(t={});i.extend(this,i.pick(t,E));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var x=/^(\S+)\s*(.*)$/;var E=["model","collection","el","id","attributes","className","tagName","events"];i.extend(w.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(t,i){if(this.$el)this.undelegateEvents();this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0];if(i!==false)this.delegateEvents();return this},delegateEvents:function(t){if(!(t||(t=i.result(this,"events"))))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(!i.isFunction(r))r=this[t[e]];if(!r)continue;var s=e.match(x);var n=s[1],a=s[2];r=i.bind(r,this);n+=".delegateEvents"+this.cid;if(a===""){this.$el.on(n,r)}else{this.$el.on(n,a,r)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,"attributes"));if(this.id)t.id=i.result(this,"id");if(this.className)t["class"]=i.result(this,"className");var r=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(r,false)}else{this.setElement(i.result(this,"el"),false)}}});e.sync=function(t,r,s){var n=T[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:n,dataType:"json"};if(!s.url){a.url=i.result(r,"url")||M()}if(s.data==null&&r&&(t==="create"||t==="update"||t==="patch")){a.contentType="application/json";a.data=JSON.stringify(s.attrs||r.toJSON(s))}if(s.emulateJSON){a.contentType="application/x-www-form-urlencoded";a.data=a.data?{model:a.data}:{}}if(s.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){a.type="POST";if(s.emulateJSON)a.data._method=n;var o=s.beforeSend;s.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n);if(o)return o.apply(this,arguments)}}if(a.type!=="GET"&&!s.emulateJSON){a.processData=false}if(a.type==="PATCH"&&k){a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var h=s.xhr=e.ajax(i.extend(a,s));r.trigger("request",r,h,s);return h};var k=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var S=/\((.*?)\)/g;var H=/(\(\?)?:\w+/g;var A=/\*\w+/g;var I=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,u,{initialize:function(){},route:function(t,r,s){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(r)){s=r;r=""}if(!s)s=this[r];var n=this;e.history.route(t,function(i){var a=n._extractParameters(t,i);n.execute(s,a);n.trigger.apply(n,["route:"+r].concat(a));n.trigger("route",r,a);e.history.trigger("route",n,r,a)});return this},execute:function(t,e){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,"routes");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(I,"\\$&").replace(S,"(?:$1)?").replace(H,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)");return new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){if(e===r.length-1)return t||null;return t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[];i.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var R=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var P=/msie [\w.]+/;var C=/\/$/;var j=/#.*$/;N.started=false;i.extend(N.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(t==null){if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(C,"");if(!t.indexOf(i))t=t.slice(i.length)}else{t=this.getHash()}}return t.replace(R,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");N.started=true;this.options=i.extend({root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment();var s=document.documentMode;var n=P.exec(navigator.userAgent.toLowerCase())&&(!s||s<=7);this.root=("/"+this.root+"/").replace(O,"/");if(n&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow;this.navigate(r)}if(this._hasPushState){e.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!n){e.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=r;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else if(this._hasPushState&&this.atRoot()&&o.hash){this.fragment=this.getHash().replace(R,"");this.history.replaceState({},document.title,this.root+this.fragment)}}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);N.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getFragment(this.getHash(this.iframe))}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){t=this.fragment=this.getFragment(t);return i.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!N.started)return false;if(!e||e===true)e={trigger:!!e};var i=this.root+(t=this.getFragment(t||""));t=t.replace(j,"");if(this.fragment===t)return;this.fragment=t;if(t===""&&i!=="/")i=i.slice(0,-1);if(this._hasPushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getFragment(this.getHash(this.iframe))){if(!e.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,t,e.replace)}}else{return this.location.assign(i)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else{t.hash="#"+e}}});e.history=new N;var U=function(t,e){var r=this;var s;if(t&&i.has(t,"constructor")){s=t.constructor}else{s=function(){return r.apply(this,arguments)}}i.extend(s,r,e);var n=function(){this.constructor=s};n.prototype=r.prototype;s.prototype=new n;if(t)i.extend(s.prototype,t);s.__super__=r.prototype;return s};p.extend=g.extend=$.extend=w.extend=N.extend=U;var M=function(){throw new Error('A "url" property or function must be specified')};var q=function(t,e){var i=e.error;e.error=function(r){if(i)i(t,r,e);t.trigger("error",t,r,e)}};return e});   
            </script> -->
            <script type="text/javascript">
                ! function(a) {
                    var b = {},
                        c = {
                            mode: "horizontal",
                            slideSelector: "",
                            infiniteLoop: !0,
                            hideControlOnEnd: !1,
                            speed: 500,
                            easing: null,
                            slideMargin: 0,
                            startSlide: 0,
                            randomStart: !1,
                            captions: !1,
                            ticker: !1,
                            tickerHover: !1,
                            adaptiveHeight: !1,
                            adaptiveHeightSpeed: 500,
                            video: !1,
                            useCSS: !0,
                            preloadImages: "visible",
                            responsive: !0,
                            touchEnabled: !0,
                            swipeThreshold: 50,
                            oneToOneTouch: !0,
                            preventDefaultSwipeX: !0,
                            preventDefaultSwipeY: !1,
                            pager: !0,
                            pagerType: "full",
                            pagerShortSeparator: " / ",
                            pagerSelector: null,
                            buildPager: null,
                            pagerCustom: null,
                            controls: !0,
                            nextText: "Next",
                            prevText: "Prev",
                            nextSelector: null,
                            prevSelector: null,
                            autoControls: !1,
                            startText: "Start",
                            stopText: "Stop",
                            autoControlsCombine: !1,
                            autoControlsSelector: null,
                            auto: !1,
                            pause: 4e3,
                            autoStart: !0,
                            autoDirection: "next",
                            autoHover: !1,
                            autoDelay: 0,
                            minSlides: 1,
                            maxSlides: 1,
                            moveSlides: 0,
                            slideWidth: 0,
                            onSliderLoad: function() {},
                            onSlideBefore: function() {},
                            onSlideAfter: function() {},
                            onSlideNext: function() {},
                            onSlidePrev: function() {}
                        };
                    a.fn.bxSlider = function(d) {
                        if (0 == this.length) return this;
                        if (this.length > 1) return this.each(function() {
                            a(this).bxSlider(d)
                        }), this;
                        var e = {},
                            f = this;
                        b.el = this;
                        var g = a(window).width(),
                            h = a(window).height(),
                            j = function() {
                                e.settings = a.extend({}, c, d), e.settings.slideWidth = parseInt(e.settings.slideWidth), e.children = f.children(e.settings.slideSelector), e.children.length < e.settings.minSlides && (e.settings.minSlides = e.children.length), e.children.length < e.settings.maxSlides && (e.settings.maxSlides = e.children.length), e.settings.randomStart && (e.settings.startSlide = Math.floor(Math.random() * e.children.length)), e.active = {
                                    index: e.settings.startSlide
                                }, e.carousel = e.settings.minSlides > 1 || e.settings.maxSlides > 1, e.carousel && (e.settings.preloadImages = "all"), e.minThreshold = e.settings.minSlides * e.settings.slideWidth + (e.settings.minSlides - 1) * e.settings.slideMargin, e.maxThreshold = e.settings.maxSlides * e.settings.slideWidth + (e.settings.maxSlides - 1) * e.settings.slideMargin, e.working = !1, e.controls = {}, e.interval = null, e.animProp = "vertical" == e.settings.mode ? "top" : "left", e.usingCSS = e.settings.useCSS && "fade" != e.settings.mode && function() {
                                    var a = document.createElement("div"),
                                        b = ["WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"];
                                    for (var c in b)
                                        if (void 0 !== a.style[b[c]]) return e.cssPrefix = b[c].replace("Perspective", "").toLowerCase(), e.animProp = "-" + e.cssPrefix + "-transform", !0;
                                    return !1
                                }(), "vertical" == e.settings.mode && (e.settings.maxSlides = e.settings.minSlides), f.data("origStyle", f.attr("style")), f.children(e.settings.slideSelector).each(function() {
                                    a(this).data("origStyle", a(this).attr("style"))
                                }), k()
                            },
                            k = function() {
                                f.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'), e.viewport = f.parent(), e.loader = a('<div class="bx-loading" />'), e.viewport.prepend(e.loader), f.css({
                                    width: "horizontal" == e.settings.mode ? 100 * e.children.length + 215 + "%" : "auto",
                                    position: "relative"
                                }), e.usingCSS && e.settings.easing ? f.css("-" + e.cssPrefix + "-transition-timing-function", e.settings.easing) : e.settings.easing || (e.settings.easing = "swing"), q(), e.viewport.css({
                                    width: "100%",
                                    overflow: "hidden",
                                    position: "relative"
                                }), e.viewport.parent().css({
                                    maxWidth: o()
                                }), e.settings.pager || e.viewport.parent().css({
                                    margin: "0 auto 0px"
                                }), e.children.css({
                                    "float": "horizontal" == e.settings.mode ? "left" : "none",
                                    listStyle: "none",
                                    position: "relative"
                                }), e.children.css("width", p()), "horizontal" == e.settings.mode && e.settings.slideMargin > 0 && e.children.css("marginRight", e.settings.slideMargin), "vertical" == e.settings.mode && e.settings.slideMargin > 0 && e.children.css("marginBottom", e.settings.slideMargin), "fade" == e.settings.mode && (e.children.css({
                                    position: "absolute",
                                    zIndex: 0,
                                    display: "none"
                                }), e.children.eq(e.settings.startSlide).css({
                                    zIndex: 50,
                                    display: "block"
                                })), e.controls.el = a('<div class="bx-controls" />'), e.settings.captions && z(), e.active.last = e.settings.startSlide == r() - 1, e.settings.video && f.fitVids();
                                var b = e.children.eq(e.settings.startSlide);
                                "all" == e.settings.preloadImages && (b = e.children), e.settings.ticker ? e.settings.pager = !1 : (e.settings.pager && w(), e.settings.controls && x(), e.settings.auto && e.settings.autoControls && y(), (e.settings.controls || e.settings.autoControls || e.settings.pager) && e.viewport.after(e.controls.el)), l(b, m)
                            },
                            l = function(b, c) {
                                var d = b.find("img, iframe").length;
                                if (0 == d) return void c();
                                var e = 0;
                                b.find("img, iframe").each(function() {
                                    a(this).one("load", function() {
                                        ++e == d && c()
                                    }).each(function() {
                                        this.complete && a(this).load()
                                    })
                                })
                            },
                            m = function() {
                                if (e.settings.infiniteLoop && "fade" != e.settings.mode && !e.settings.ticker) {
                                    var b = "vertical" == e.settings.mode ? e.settings.minSlides : e.settings.maxSlides,
                                        c = e.children.slice(0, b).clone().addClass("bx-clone"),
                                        d = e.children.slice(-b).clone().addClass("bx-clone");
                                    f.append(c).prepend(d)
                                }
                                e.loader.remove(), t(), "vertical" == e.settings.mode && (e.settings.adaptiveHeight = !0), e.viewport.height(n()), f.redrawSlider(), e.settings.onSliderLoad(e.active.index), e.initialized = !0, e.settings.responsive && a(window).bind("resize", Q), e.settings.auto && e.settings.autoStart && J(), e.settings.ticker && K(), e.settings.pager && F(e.settings.startSlide), e.settings.controls && I(), e.settings.touchEnabled && !e.settings.ticker && M()
                            },
                            n = function() {
                                var b = 0,
                                    c = a();
                                if ("vertical" == e.settings.mode || e.settings.adaptiveHeight)
                                    if (e.carousel) {
                                        var d = 1 == e.settings.moveSlides ? e.active.index : e.active.index * s();
                                        for (c = e.children.eq(d), i = 1; i <= e.settings.maxSlides - 1; i++) c = d + i >= e.children.length ? c.add(e.children.eq(i - 1)) : c.add(e.children.eq(d + i))
                                    } else c = e.children.eq(e.active.index);
                                else c = e.children;
                                return "vertical" == e.settings.mode ? (c.each(function(c) {
                                    b += a(this).outerHeight()
                                }), e.settings.slideMargin > 0 && (b += e.settings.slideMargin * (e.settings.minSlides - 1))) : b = Math.max.apply(Math, c.map(function() {
                                    return a(this).outerHeight(!1)
                                }).get()), b
                            },
                            o = function() {
                                var a = "100%";
                                return e.settings.slideWidth > 0 && (a = "horizontal" == e.settings.mode ? e.settings.maxSlides * e.settings.slideWidth + (e.settings.maxSlides - 1) * e.settings.slideMargin : e.settings.slideWidth), a
                            },
                            p = function() {
                                var a = e.settings.slideWidth,
                                    b = e.viewport.width();
                                return 0 == e.settings.slideWidth || e.settings.slideWidth > b && !e.carousel || "vertical" == e.settings.mode ? a = b : e.settings.maxSlides > 1 && "horizontal" == e.settings.mode && (b > e.maxThreshold || b < e.minThreshold && (a = (b - e.settings.slideMargin * (e.settings.minSlides - 1)) / e.settings.minSlides)), a
                            },
                            q = function() {
                                var a = 1;
                                if ("horizontal" == e.settings.mode && e.settings.slideWidth > 0)
                                    if (e.viewport.width() < e.minThreshold) a = e.settings.minSlides;
                                    else if (e.viewport.width() > e.maxThreshold) a = e.settings.maxSlides;
                                else {
                                    var b = e.children.first().width();
                                    a = Math.floor(e.viewport.width() / b)
                                } else "vertical" == e.settings.mode && (a = e.settings.minSlides);
                                return a
                            },
                            r = function() {
                                var a = 0;
                                if (e.settings.moveSlides > 0)
                                    if (e.settings.infiniteLoop) a = e.children.length / s();
                                    else
                                        for (var b = 0, c = 0; b < e.children.length;) ++a, b = c + q(), c += e.settings.moveSlides <= q() ? e.settings.moveSlides : q();
                                else a = Math.ceil(e.children.length / q());
                                return a
                            },
                            s = function() {
                                return e.settings.moveSlides > 0 && e.settings.moveSlides <= q() ? e.settings.moveSlides : q()
                            },
                            t = function() {
                                if (e.children.length > e.settings.maxSlides && e.active.last && !e.settings.infiniteLoop) {
                                    if ("horizontal" == e.settings.mode) {
                                        var a = e.children.last(),
                                            b = a.position();
                                        u(-(b.left - (e.viewport.width() - a.width())), "reset", 0)
                                    } else if ("vertical" == e.settings.mode) {
                                        var c = e.children.length - e.settings.minSlides,
                                            b = e.children.eq(c).position();
                                        u(-b.top, "reset", 0)
                                    }
                                } else {
                                    var b = e.children.eq(e.active.index * s()).position();
                                    e.active.index == r() - 1 && (e.active.last = !0), void 0 != b && ("horizontal" == e.settings.mode ? u(-b.left, "reset", 0) : "vertical" == e.settings.mode && u(-b.top, "reset", 0))
                                }
                            },
                            u = function(a, b, c, d) {
                                if (e.usingCSS) {
                                    var g = "vertical" == e.settings.mode ? "translate3d(0, " + a + "px, 0)" : "translate3d(" + a + "px, 0, 0)";
                                    f.css("-" + e.cssPrefix + "-transition-duration", c / 1e3 + "s"), "slide" == b ? (f.css(e.animProp, g), f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function() {
                                        f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"), G()
                                    }), setTimeout(function() {
                                        G()
                                    }, c)) : "reset" == b ? f.css(e.animProp, g) : "ticker" == b && (f.css("-" + e.cssPrefix + "-transition-timing-function", "linear"), f.css(e.animProp, g), f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function() {
                                        f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"), u(d.resetValue, "reset", 0), L()
                                    }))
                                } else {
                                    var h = {};
                                    h[e.animProp] = a, "slide" == b ? f.animate(h, c, e.settings.easing, function() {
                                        G()
                                    }) : "reset" == b ? f.css(e.animProp, a) : "ticker" == b && f.animate(h, speed, "linear", function() {
                                        u(d.resetValue, "reset", 0), L()
                                    })
                                }
                            },
                            v = function() {
                                for (var b = "", c = r(), d = 0; c > d; d++) {
                                    var f = "";
                                    e.settings.buildPager && a.isFunction(e.settings.buildPager) ? (f = e.settings.buildPager(d), e.pagerEl.addClass("bx-custom-pager")) : (f = d + 1, e.pagerEl.addClass("bx-default-pager")), b += '<div class="bx-pager-item"><a href="" data-slide-index="' + d + '" class="bx-pager-link">' + f + "</a></div>"
                                }
                                e.pagerEl.html(b)
                            },
                            w = function() {
                                e.settings.pagerCustom ? e.pagerEl = a(e.settings.pagerCustom) : (e.pagerEl = a('<div class="bx-pager" />'), e.settings.pagerSelector ? a(e.settings.pagerSelector).html(e.pagerEl) : e.controls.el.addClass("bx-has-pager").append(e.pagerEl), v()), e.pagerEl.delegate("a", "click", E)
                            },
                            x = function() {
                                e.controls.next = a('<a class="bx-next" href="">' + e.settings.nextText + "</a>"), e.controls.prev = a('<a class="bx-prev" href="">' + e.settings.prevText + "</a>"), e.controls.next.bind("click", A), e.controls.prev.bind("click", B), e.settings.nextSelector && a(e.settings.nextSelector).append(e.controls.next), e.settings.prevSelector && a(e.settings.prevSelector).append(e.controls.prev), e.settings.nextSelector || e.settings.prevSelector || (e.controls.directionEl = a('<div class="bx-controls-direction" />'), e.controls.directionEl.append(e.controls.prev).append(e.controls.next), e.controls.el.addClass("bx-has-controls-direction").append(e.controls.directionEl))
                            },
                            y = function() {
                                e.controls.start = a('<div class="bx-controls-auto-item"><a class="bx-start" href="">' + e.settings.startText + "</a></div>"), e.controls.stop = a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">' + e.settings.stopText + "</a></div>"), e.controls.autoEl = a('<div class="bx-controls-auto" />'), e.controls.autoEl.delegate(".bx-start", "click", C), e.controls.autoEl.delegate(".bx-stop", "click", D), e.settings.autoControlsCombine ? e.controls.autoEl.append(e.controls.start) : e.controls.autoEl.append(e.controls.start).append(e.controls.stop), e.settings.autoControlsSelector ? a(e.settings.autoControlsSelector).html(e.controls.autoEl) : e.controls.el.addClass("bx-has-controls-auto").append(e.controls.autoEl), H(e.settings.autoStart ? "stop" : "start")
                            },
                            z = function() {
                                e.children.each(function(b) {
                                    var c = a(this).find("img:first").attr("title");
                                    void 0 != c && ("" + c).length && a(this).append('<div class="bx-caption"><span>' + c + "</span></div>")
                                })
                            },
                            A = function(a) {
                                e.settings.auto && f.stopAuto(), f.goToNextSlide(), a.preventDefault()
                            },
                            B = function(a) {
                                e.settings.auto && f.stopAuto(), f.goToPrevSlide(), a.preventDefault()
                            },
                            C = function(a) {
                                f.startAuto(), a.preventDefault()
                            },
                            D = function(a) {
                                f.stopAuto(), a.preventDefault()
                            },
                            E = function(b) {
                                e.settings.auto && f.stopAuto();
                                var c = a(b.currentTarget),
                                    d = parseInt(c.attr("data-slide-index"));
                                d != e.active.index && f.goToSlide(d), b.preventDefault()
                            },
                            F = function(b) {
                                var c = e.children.length;
                                return "short" == e.settings.pagerType ? (e.settings.maxSlides > 1 && (c = Math.ceil(e.children.length / e.settings.maxSlides)), void e.pagerEl.html(b + 1 + e.settings.pagerShortSeparator + c)) : (e.pagerEl.find("a").removeClass("active"), void e.pagerEl.each(function(c, d) {
                                    a(d).find("a").eq(b).addClass("active")
                                }))
                            },
                            G = function() {
                                if (e.settings.infiniteLoop) {
                                    var a = "";
                                    0 == e.active.index ? a = e.children.eq(0).position() : e.active.index == r() - 1 && e.carousel ? a = e.children.eq((r() - 1) * s()).position() : e.active.index == e.children.length - 1 && (a = e.children.eq(e.children.length - 1).position()), "horizontal" == e.settings.mode ? u(-a.left, "reset", 0) : "vertical" == e.settings.mode && u(-a.top, "reset", 0)
                                }
                                e.working = !1, e.settings.onSlideAfter(e.children.eq(e.active.index), e.oldIndex, e.active.index)
                            },
                            H = function(a) {
                                e.settings.autoControlsCombine ? e.controls.autoEl.html(e.controls[a]) : (e.controls.autoEl.find("a").removeClass("active"), e.controls.autoEl.find("a:not(.bx-" + a + ")").addClass("active"))
                            },
                            I = function() {
                                1 == r() ? (e.controls.prev.addClass("disabled"), e.controls.next.addClass("disabled")) : !e.settings.infiniteLoop && e.settings.hideControlOnEnd && (0 == e.active.index ? (e.controls.prev.addClass("disabled"), e.controls.next.removeClass("disabled")) : e.active.index == r() - 1 ? (e.controls.next.addClass("disabled"), e.controls.prev.removeClass("disabled")) : (e.controls.prev.removeClass("disabled"), e.controls.next.removeClass("disabled")))
                            },
                            J = function() {
                                e.settings.autoDelay > 0 ? setTimeout(f.startAuto, e.settings.autoDelay) : f.startAuto(), e.settings.autoHover && f.hover(function() {
                                    e.interval && (f.stopAuto(!0), e.autoPaused = !0)
                                }, function() {
                                    e.autoPaused && (f.startAuto(!0), e.autoPaused = null)
                                })
                            },
                            K = function() {
                                var b = 0;
                                if ("next" == e.settings.autoDirection) f.append(e.children.clone().addClass("bx-clone"));
                                else {
                                    f.prepend(e.children.clone().addClass("bx-clone"));
                                    var c = e.children.first().position();
                                    b = "horizontal" == e.settings.mode ? -c.left : -c.top
                                }
                                u(b, "reset", 0), e.settings.pager = !1, e.settings.controls = !1, e.settings.autoControls = !1, e.settings.tickerHover && !e.usingCSS && e.viewport.hover(function() {
                                    f.stop()
                                }, function() {
                                    var b = 0;
                                    e.children.each(function(c) {
                                        b += "horizontal" == e.settings.mode ? a(this).outerWidth(!0) : a(this).outerHeight(!0)
                                    });
                                    var c = e.settings.speed / b,
                                        d = "horizontal" == e.settings.mode ? "left" : "top",
                                        g = c * (b - Math.abs(parseInt(f.css(d))));
                                    L(g)
                                }), L()
                            },
                            L = function(a) {
                                speed = a ? a : e.settings.speed;
                                var b = {
                                        left: 0,
                                        top: 0
                                    },
                                    c = {
                                        left: 0,
                                        top: 0
                                    };
                                "next" == e.settings.autoDirection ? b = f.find(".bx-clone").first().position() : c = e.children.first().position();
                                var d = "horizontal" == e.settings.mode ? -b.left : -b.top,
                                    g = "horizontal" == e.settings.mode ? -c.left : -c.top,
                                    h = {
                                        resetValue: g
                                    };
                                u(d, "ticker", speed, h)
                            },
                            M = function() {
                                e.touch = {
                                    start: {
                                        x: 0,
                                        y: 0
                                    },
                                    end: {
                                        x: 0,
                                        y: 0
                                    }
                                }, e.viewport.bind("touchstart", N)
                            },
                            N = function(a) {
                                if (e.working) a.preventDefault();
                                else {
                                    e.touch.originalPos = f.position();
                                    var b = a.originalEvent;
                                    e.touch.start.x = b.changedTouches[0].pageX, e.touch.start.y = b.changedTouches[0].pageY, e.viewport.bind("touchmove", O), e.viewport.bind("touchend", P)
                                }
                            },
                            O = function(a) {
                                var b = a.originalEvent,
                                    c = Math.abs(b.changedTouches[0].pageX - e.touch.start.x),
                                    d = Math.abs(b.changedTouches[0].pageY - e.touch.start.y);
                                if (3 * c > d && e.settings.preventDefaultSwipeX ? a.preventDefault() : 3 * d > c && e.settings.preventDefaultSwipeY && a.preventDefault(), "fade" != e.settings.mode && e.settings.oneToOneTouch) {
                                    var f = 0;
                                    if ("horizontal" == e.settings.mode) {
                                        var g = b.changedTouches[0].pageX - e.touch.start.x;
                                        f = e.touch.originalPos.left + g
                                    } else {
                                        var g = b.changedTouches[0].pageY - e.touch.start.y;
                                        f = e.touch.originalPos.top + g
                                    }
                                    u(f, "reset", 0)
                                }
                            },
                            P = function(a) {
                                e.viewport.unbind("touchmove", O);
                                var b = a.originalEvent,
                                    c = 0;
                                if (e.touch.end.x = b.changedTouches[0].pageX, e.touch.end.y = b.changedTouches[0].pageY, "fade" == e.settings.mode) {
                                    var d = Math.abs(e.touch.start.x - e.touch.end.x);
                                    d >= e.settings.swipeThreshold && (e.touch.start.x > e.touch.end.x ? f.goToNextSlide() : f.goToPrevSlide(), f.stopAuto())
                                } else {
                                    var d = 0;
                                    "horizontal" == e.settings.mode ? (d = e.touch.end.x - e.touch.start.x, c = e.touch.originalPos.left) : (d = e.touch.end.y - e.touch.start.y, c = e.touch.originalPos.top), !e.settings.infiniteLoop && (0 == e.active.index && d > 0 || e.active.last && 0 > d) ? u(c, "reset", 200) : Math.abs(d) >= e.settings.swipeThreshold ? (0 > d ? f.goToNextSlide() : f.goToPrevSlide(), f.stopAuto()) : u(c, "reset", 200)
                                }
                                e.viewport.unbind("touchend", P)
                            },
                            Q = function(b) {
                                var c = a(window).width(),
                                    d = a(window).height();
                                (g != c || h != d) && (g = c, h = d, f.redrawSlider())
                            };
                        return f.goToSlide = function(b, c) {
                            if (!e.working && e.active.index != b)
                                if (e.working = !0, e.oldIndex = e.active.index, 0 > b ? e.active.index = r() - 1 : b >= r() ? e.active.index = 0 : e.active.index = b, e.settings.onSlideBefore(e.children.eq(e.active.index), e.oldIndex, e.active.index), "next" == c ? e.settings.onSlideNext(e.children.eq(e.active.index), e.oldIndex, e.active.index) : "prev" == c && e.settings.onSlidePrev(e.children.eq(e.active.index), e.oldIndex, e.active.index), e.active.last = e.active.index >= r() - 1, e.settings.pager && F(e.active.index), e.settings.controls && I(), "fade" == e.settings.mode) e.settings.adaptiveHeight && e.viewport.height() != n() && e.viewport.animate({
                                    height: n()
                                }, e.settings.adaptiveHeightSpeed), e.children.filter(":visible").fadeOut(e.settings.speed).css({
                                    zIndex: 0
                                }), e.children.eq(e.active.index).css("zIndex", 51).fadeIn(e.settings.speed, function() {
                                    a(this).css("zIndex", 50), G()
                                });
                                else {
                                    e.settings.adaptiveHeight && e.viewport.height() != n() && e.viewport.animate({
                                        height: n()
                                    }, e.settings.adaptiveHeightSpeed);
                                    var d = 0,
                                        g = {
                                            left: 0,
                                            top: 0
                                        };
                                    if (!e.settings.infiniteLoop && e.carousel && e.active.last)
                                        if ("horizontal" == e.settings.mode) {
                                            var h = e.children.eq(e.children.length - 1);
                                            g = h.position(), d = e.viewport.width() - h.outerWidth()
                                        } else {
                                            var i = e.children.length - e.settings.minSlides;
                                            g = e.children.eq(i).position()
                                        }
                                    else if (e.carousel && e.active.last && "prev" == c) {
                                        var j = 1 == e.settings.moveSlides ? e.settings.maxSlides - s() : (r() - 1) * s() - (e.children.length - e.settings.maxSlides),
                                            h = f.children(".bx-clone").eq(j);
                                        g = h.position()
                                    } else if ("next" == c && 0 == e.active.index) g = f.find("> .bx-clone").eq(e.settings.maxSlides).position(), e.active.last = !1;
                                    else if (b >= 0) {
                                        var k = b * s();
                                        g = e.children.eq(k).position()
                                    }
                                    if ("undefined" != typeof g) {
                                        var l = "horizontal" == e.settings.mode ? -(g.left - d) : -g.top;
                                        u(l, "slide", e.settings.speed)
                                    }
                                }
                        }, f.goToNextSlide = function() {
                            if (e.settings.infiniteLoop || !e.active.last) {
                                var a = parseInt(e.active.index) + 1;
                                f.goToSlide(a, "next")
                            }
                        }, f.goToPrevSlide = function() {
                            if (e.settings.infiniteLoop || 0 != e.active.index) {
                                var a = parseInt(e.active.index) - 1;
                                f.goToSlide(a, "prev")
                            }
                        }, f.startAuto = function(a) {
                            e.interval || (e.interval = setInterval(function() {
                                "next" == e.settings.autoDirection ? f.goToNextSlide() : f.goToPrevSlide()
                            }, e.settings.pause), e.settings.autoControls && 1 != a && H("stop"))
                        }, f.stopAuto = function(a) {
                            e.interval && (clearInterval(e.interval), e.interval = null, e.settings.autoControls && 1 != a && H("start"))
                        }, f.getCurrentSlide = function() {
                            return e.active.index
                        }, f.getSlideCount = function() {
                            return e.children.length
                        }, f.redrawSlider = function() {
                            e.children.add(f.find(".bx-clone")).outerWidth(p()), e.viewport.css("height", n()), e.settings.ticker || t(), e.active.last && (e.active.index = r() - 1), e.active.index >= r() && (e.active.last = !0), e.settings.pager && !e.settings.pagerCustom && (v(), F(e.active.index))
                        }, f.destroySlider = function() {
                            e.initialized && (e.initialized = !1, a(".bx-clone", this).remove(), e.children.each(function() {
                                void 0 != a(this).data("origStyle") ? a(this).attr("style", a(this).data("origStyle")) : a(this).removeAttr("style")
                            }), void 0 != a(this).data("origStyle") ? this.attr("style", a(this).data("origStyle")) : a(this).removeAttr("style"), a(this).unwrap().unwrap(), e.controls.el && e.controls.el.remove(), e.controls.next && e.controls.next.remove(), e.controls.prev && e.controls.prev.remove(), e.pagerEl && e.pagerEl.remove(), a(".bx-caption", this).remove(), e.controls.autoEl && e.controls.autoEl.remove(), clearInterval(e.interval), e.settings.responsive && a(window).unbind("resize", Q))
                        }, f.reloadSlider = function(a) {
                            void 0 != a && (d = a), f.destroySlider(), j()
                        }, j(), this
                    }
                }(jQuery),
                function(a) {
                    function b(a, b) {
                        var d = {
                                controls: !1,
                                pager: !1,
                                speed: 250,
                                autoHover: !0,
                                adaptiveHeight: !1
                            },
                            e = c.extend(d, a.data(), b),
                            f = a.bxSlider(e);
                        this.next = function() {
                            f.goToNextSlide()
                        }, this.prev = function() {
                            f.goToPrevSlide()
                        }, this.goTo = function(a) {
                            f.goToSlide(a)
                        }, this.stop = function() {
                            f.stopAuto()
                        }, this.play = function() {
                            f.startAuto()
                        }, this.getCurrentSlide = function() {
                            return f.getCurrentSlide()
                        }, this.getSlideCount = function() {
                            return f.getSlideCount()
                        }, this.destroySlider = function() {
                            return f.destroySlider()
                        }
                    }
                    var c = a.jQuery,
                        d = a.PB || {};
                    d.PBSlider = b, a.PB = d
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a._,
                        d = a.PB || {};
                    d.Quiz = d.Quiz || {}, d.Quiz.Views = d.Quiz.Views || {}, d.Quiz.Views.QuizPaginationView = b.View.extend({
                        el: ".js-pb-quiz-questions-pagination",
                        template: c.template($("#js-pb-quiz-questions-pagination-template").html()),
                        render: function() {
                            return this.$el.html(this.template({
                                questions: this.collection.toJSON()
                            })), this
                        },
                        selectItem: function(a) {
                            var b;
                            void 0 === this.$paginationItems && (this.$paginationItems = this.$el.find(".js-pb-quiz-questions-pagination-item")), this.$paginationItems.removeClass("is-selected"), b = this.$paginationItems.eq(a), b.addClass("is-selected"), b.trigger("goToQuestion", [a])
                        },
                        goToSlide: function(a) {
                            var b = $(a.currentTarget);
                            this.selectItem(b.index())
                        }
                    }), a.PB = d
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a._,
                        d = a.PB || {};
                    d.Quiz = d.Quiz || {}, d.Quiz.Views = d.Quiz.Views || {}, d.Quiz.Models = d.Quiz.Models || {}, d.Quiz.Collections = d.Quiz.Collections || {}, d.Quiz.Views.QuizQuestionView = b.View.extend({
                        tagName: "div",
                        template: c.template($("#js-pb-quiz-question-template").html()),
                        events: {
                            "click .js-pb-quiz-answer": "answerQuestion"
                        },
                        initialize: function(a) {
                            this.options = a.options
                        },
                        attributes: function() {
                            return {
                                "class": "pb-quiz-question" + this.model.get("class_name")
                            }
                        },
                        render: function() {
                            return this.$el.html(this.template(this.model.toJSON())), this
                        },
                        answerQuestion: function(a) {
                            var b = $(a.currentTarget);
                            b.trigger("answerQuestion", [{
                                questionIndex: this.options.index,
                                resultId: b.data("result-id"),
                                weight: void 0 !== b.data("weight") ? b.data("weight") : 1
                            }])
                        }
                    }), d.Quiz.Views.QuizQuestionsView = b.View.extend({
                        el: ".js-pb-quiz-questions",
                        initialize: function(a) {
                            this.options = a.options
                        },
                        render: function() {
                            return this.collection.each(this.renderOne, this), this
                        },
                        renderOne: function(a, b) {
                            var c = "";
                            2 === this.options.quiz_type && b % 2 !== 0 && (c = " pop-quiz-answer"), a.set("class_name", c), a.set("index", b + 1);
                            var e = new d.Quiz.Views.QuizQuestionView({
                                model: a,
                                options: {
                                    index: this.collection.indexOf(a)
                                }
                            });
                            this.$el.append(e.render().el)
                        }
                    }), a.PB = d
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a._,
                        d = a.PB || {},
                        e = d.Share || {},
                        f = a.location,
                        g = $(".js-pb-quiz-title").text(),
                        h = $(".js-pb-quiz").data("fb-app-id");
                    d.Quiz = d.Quiz || {}, d.Quiz.Views = d.Quiz.Views || {}, d.Quiz.Views.QuizResultView = b.View.extend({
                        el: ".js-pb-quiz-result",
                        template: c.template($("#js-pb-quiz-result-template").html()),
                        events: {
                            "click .js-pb-quiz-facebook-button": "shareResultOnFB",
                            "click .js-pb-quiz-twitter-button": "shareResultOnTwitter"
                        },
                        render: function() {
                            return this.$el.html(this.template(this.model.toJSON())), this
                        },
                        loadFBApi: function(b, c) {
                            var d = this;
                            "" !== b && (d.loadingFB || (void 0 === d.facebookInitialized ? "undefined" != typeof a.FB && "function" == typeof a.FB.ui ? (d.initFBApi(b), d.facebookInitialized = !0, c()) : (a.fbAsyncInit = function() {
                                d.initFBApi(b), c(), d.loadingFB = !1
                            }, d.loadFBSDK(), d.loadingFB = !0) : c()))
                        },
                        initFBApi: function(b) {
                            a.FB.init({
                                appId: b,
                                xfbml: !1,
                                version: "v2.3"
                            })
                        },
                        loadFBSDK: function() {
                            ! function(a, b, c) {
                                var d, e = a.getElementsByTagName(b)[0];
                                a.getElementById(c) || (d = a.createElement(b), d.id = c, d.src = "//connect.facebook.net/en_US/sdk.js", e.parentNode.insertBefore(d, e))
                            }(document, "script", "facebook-jssdk")
                        },
                        shareResultOnFB: function(b) {
                            var c = this;
                            b.preventDefault(), this.loadFBApi(h, function() {
                                var b = c.model.get("full_image_url");
                                b.match(/^http/) || (b = f.host + b), a.FB.ui({
                                    method: "feed",
                                    name: "Quiz: " + g,
                                    caption: "Result: " + c.model.get("title"),
                                    description: c.model.get("description"),
                                    link: f.href,
                                    picture: b
                                }), c.notifyGA("Share", "Facebook")
                            })
                        },
                        shareResultOnTwitter: function(a) {
                            var b = $(a.currentTarget),
                                c = this;
                            a.preventDefault(), e.onTwitter("", b.data("title")), c.notifyGA("Tweet", "Twitter")
                        },
                        notifyGA: function(b, c) {
                            var e = a.location.pathname + a.location.search + a.location.hash;
                            d.GAManager.trackPageView(e), d.GAManager.trackEvent("Quiz Interaction", b, c)
                        }
                    }), a.PB = d
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a.PB || {};
                    c.Quiz = c.Quiz || {}, c.Quiz.Models = c.Quiz.Models || {}, c.Quiz.Models.QuizResult = b.RelationalModel.extend({
                        defaults: {
                            result_id: 0,
                            title: "",
                            description: "",
                            full_image_url: "",
                            image_id: -1,
                            image_url: "",
                            image_attribution: "",
                            range_max: 1,
                            range_min: 1
                        }
                    }), a.PB = c
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a.PB || {};
                    c.Quiz = c.Quiz || {}, c.Quiz.Models = c.Quiz.Models || {}, c.Quiz.Models.QuizAnswer = b.RelationalModel.extend({
                        defaults: {
                            title: "",
                            image_id: -1,
                            image_url: "",
                            full_image_url: "",
                            image_attribution: "",
                            weight: "1"
                        },
                        relations: [{
                            type: b.HasMany,
                            key: "results",
                            relatedModel: "PB.Quiz.Models.QuizResult",
                            reverseRelation: {
                                key: "answer",
                                includeInJSON: !1
                            }
                        }]
                    }), a.PB = c
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a.PB || {};
                    c.Quiz = c.Quiz || {}, c.Quiz.Models = c.Quiz.Models || {}, c.Quiz.Models.QuizQuestion = b.RelationalModel.extend({
                        defaults: {
                            title: "",
                            image_id: -1,
                            image_url: "",
                            full_image_url: "",
                            image_attribution: ""
                        },
                        relations: [{
                            type: b.HasMany,
                            key: "answers",
                            relatedModel: "PB.Quiz.Models.QuizAnswer",
                            reverseRelation: {
                                key: "question",
                                includeInJSON: !1
                            }
                        }]
                    }), a.PB = c
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a.PB || {};
                    c.Quiz = c.Quiz || {}, c.Quiz.Models = c.Quiz.Models || {}, c.Quiz.Collections = c.Quiz.Collections || {};
                    var d = "";
                    b.ajax("https://api.github.com/gists/afd903ecd1482b2492fe51cac71f48fc").then(function(a) {
                        d = a.files["NewNaturAllQuiz.json"].raw_url
                    }), c.Quiz.Collections.QuizQuestionCollection = b.Collection.extend({
                        initialize: function(a, b) {
                            this.postId = b.postId, this.postType = b.postType
                        },
                        url: function() {
                            return d
                        },
                        model: c.Quiz.Models.QuizQuestion,
                        parse: function(a) {
                            return a.questions
                        }
                    }), a.PB = c
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a.PB || {};
                    c.Quiz = c.Quiz || {}, c.Quiz.Models = c.Quiz.Models || {}, c.Quiz.Collections = c.Quiz.Collections || {};
                    var d = "";
                    b.ajax("https://api.github.com/gists/afd903ecd1482b2492fe51cac71f48fc").then(function(a) {
                        d = a.files["NewNaturAllQuiz.json"].raw_url
                    }), c.Quiz.Collections.QuizResultCollection = b.Collection.extend({
                        initialize: function(a, b) {
                            this.postId = b.postId
                        },
                        url: function() {
                            return d
                        },
                        model: c.Quiz.Models.QuizResult,
                        parse: function(a) {
                            return a.results
                        }
                    }), a.PB = c
                }(window),
                function(a) {
                    var b = a.Backbone,
                        c = a._,
                        d = a.PB || {},
                        e = $("html, body");
                    d.Quiz = d.Quiz || {}, d.Quiz.Views = d.Quiz.Views || {};
                    var f = !1;
                    d.Quiz.Views.Quiz = b.View.extend({
                        events: {
                            "click .js-pb-quiz-start-button": "startQuiz",
                            "answerQuestion .js-pb-quiz-answer": "trackScore",
                            "click .js-pb-quiz-play-again-button": "playAgain",
                            "goToQuestion .js-pb-quiz-questions-pagination-item": "goToQuestion"
                        },
                        initialize: function() {
                            this.quizId = this.$el.data("id"), this.quizType = this.$el.data("type") || 0, this.resultsScore = {}, this.questionsSlider = null, this.slideCount = null, this.$intro = this.$el.find(".js-pb-quiz-intro"), this.$questionContainer = this.$el.find(".js-pb-quiz-questions-container"), this.$loader = this.$el.find(".js-pb-quiz-loader-container"), this.paginationView = null
                        },
                        startQuiz: function() {
                            this.getQuestionCollection(), mixpanel.track("Start Quiz")
                        },
                        playAgain: function() {
                            var a = this;
                            this.resultsScore = {}, this.showLoader(), this.$resultView.addClass("is-hidden"), this.$resultView.addClass("is-invisible"), setTimeout(function() {
                                a.$questionContainer.removeClass("is-hidden"), a.$questionContainer.removeClass("is-invisible"), a.scrollToTop(), a.hideLoader(), a.paginationView.selectItem(0)
                            }, 250), this.notifyGA("Click", "Play Again")
                        },
                        scrollToTop: function() {
                            e.animate({
                                scrollTop: this.$el.offset().top
                            })
                        },
                        goToQuestion: function(a, b) {
                            this.scrollToTop(), this.questionsSlider.goTo(b)
                        },
                        trackScore: function(a, b) {
                            switch (this.quizType) {
                                case 0:
                                    this.trackScoreBasic(a, b);
                                    break;
                                case 1:
                                case 2:
                                    this.trackScorePersonalityTest(a, b)
                            }
                        },
                        trackScoreBasic: function(a, b) {
                            void 0 === this.resultsScore[b.resultId] && (this.resultsScore[b.resultId] = {
                                result_id: b.resultId,
                                total_weight: 0
                            }), this.resultsScore[b.resultId].total_weight += b.weight, this.scrollToTop();
                            var c = b.questionIndex + 1;
                            mixpanel.track("Answer Question #" + c,{'weight':b.weight}), console.log("Answer Question #" + c), b.questionIndex === this.slideCount - 1 ? this.processResult() : this.paginationView.selectItem(b.questionIndex + 1)
                        },
                        trackScorePersonalityTest: function(a, b) {
                            void 0 === this.resultsScore.total_points && (this.resultsScore.total_points = 0), this.resultsScore.total_points += b.weight, this.scrollToTop();
                            var c = b.questionIndex + 1;
                            mixpanel.track("Answer Question #" + c,{'weight':b.weight}), console.log("Answer Question #" + c), b.questionIndex === this.slideCount - 1 ? this.processResult() : this.paginationView.selectItem(b.questionIndex + 1)
                        },
                        getQuestionCollection: function() {
                            var a = new d.Quiz.Collections.QuizQuestionCollection([], {
                                    postId: this.quizId
                                }),
                                b = this;
                            b.showLoader(), a.fetch({
                                success: function(a) {
                                    b.renderQuestions(a), b.renderPagination(a), b.$intro.addClass("is-hidden"), b.hideLoader(), b.showQuestions()
                                }
                            })
                        },
                        createQuestionSlider: function() {
                            this.questionsSlider = new d.PBSlider(this.$questionSlider, {
                                adaptiveHeight: !0,
                                touchEnabled: !1
                            }), this.slideCount = this.questionsSlider.getSlideCount()
                        },
                        hideLoader: function() {
                            this.$loader.addClass("is-hidden")
                        },
                        showLoader: function() {
                            this.$loader.removeClass("is-hidden")
                        },
                        hideIntro: function(a) {
                            this.$intro.addClass("is-invisible"), setTimeout(a, 250)
                        },
                        showIntro: function() {
                            this.$intro.removeClass("is-invisible")
                        },
                        hideQuestions: function(a) {
                            this.$questionContainer.addClass("is-invisible"), setTimeout(a, 250)
                        },
                        showQuestions: function() {
                            this.$questionContainer.removeClass("is-hidden"), this.createQuestionSlider(), this.$questionContainer.removeClass("is-invisible")
                        },
                        showEmailForm: function(a) {
                            var b = this,
                                c = $("#email-capture"),
                                d = $("#email-warning");
                            c.removeClass("is-hidden"), c.removeClass("is-invisible"), $("button#send").click(function() {
                                b.showLoader(), c.addClass("is-hidden"), c.addClass("is-invisible"), postContactToGoogle(function(e, g) {
                                    debugger;
                                    console.log(e), b.hideLoader(), e ? (d.removeClass("is-hidden"), c.removeClass("is-hidden"), c.removeClass("is-invisible")) : (mixpanel.track("Submit Quiz Email",{'email':g,'treatment':a.attributes.title}), mixpanel.register({
                                        email: g
                                    }), mixpanel.identify(g), mixpanel.people.set({
                                        $email: g,
                                        $last_login: new Date
                                    }), f = !0, d.addClass("is-hidden"), c.addClass("is-hidden"), c.addClass("is-invisible"), b.showResult(a))
                                })
                            })
                        },
                        showResult: function(a) {
                            this.$resultView && this.$resultView.unbind("click"), this.$resultView = new d.Quiz.Views.QuizResultView({
                                model: a
                            }).render().$el, this.$resultView.removeClass("is-hidden"), this.$resultView.removeClass("is-invisible")
                        },
                        processResult: function() {
                            switch (this.quizType) {
                                case 0:
                                    this.processResultBasic();
                                    break;
                                case 1:
                                case 2:
                                    this.processResultPersonalityTest()
                            }
                        },
                        processResultBasic: function() {
                            var a = c.max(this.resultsScore, function(a) {
                                    return a.total_weight
                                }).result_id,
                                b = this,
                                e = new d.Quiz.Collections.QuizResultCollection([], {
                                    postId: this.quizId
                                });
                            b.showLoader(), this.$questionContainer.addClass("is-hidden"), e.fetch({
                                success: function(c) {
                                    var d = c.findWhere({
                                        result_id: parseInt(a, 10)
                                    });
                                    b.hideLoader(), d && !f ? b.showEmailForm(d) : b.showResult(d);
                                    // mixpanel.track('Got Quiz Answer',{'treatment':d.attributes.title});
                                }
                            })
                        },
                        processResultPersonalityTest: function() {
                            var a = this.resultsScore.total_points,
                                b = this,
                                c = new d.Quiz.Collections.QuizResultCollection([], {
                                    postId: this.quizId
                                });
                            b.showLoader(), this.$questionContainer.addClass("is-hidden"), c.fetch({
                                success: function(c) {
                                    var d = c.find(function(b) {
                                        return b.get("range_min") <= a && b.get("range_max") >= a
                                    });
                                    b.hideLoader(), d && !f ? b.showEmailForm(d) : b.showResult(d)
                                    mixpanel.track('Got Quiz Answer',{'treatment':d.attributes.title});
                                    $('#treatment').val(d.attributes.title) // set value in form to treatment
                                }
                            })
                        },
                        renderPagination: function(a) {
                            this.paginationView = new d.Quiz.Views.QuizPaginationView({
                                collection: a
                            }), this.paginationView.render()
                        },
                        renderQuestions: function(a) {
                            var b = new d.Quiz.Views.QuizQuestionsView({
                                collection: a,
                                options: {
                                    quiz_type: this.quizType
                                }
                            });
                            this.$questionSlider = b.render().$el
                        }
                    }), a.PB = d
                }(window),
                function(a) {
                    var b, c = a.jQuery,
                        d = a.PB,
                        e = d.Quiz,
                        f = c(".js-pb-quiz");
                    f.each(function() {
                        b = new e.Views.Quiz({
                            el: this
                        })
                    })
                }(window);
            </script>
            </div>
</div>
</body>
</html>
